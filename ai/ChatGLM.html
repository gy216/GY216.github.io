<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>调用星火认知大模型API示例</title>
<script>
document.addEventListener("DOMContentLoaded", function() {
    document.getElementById("sendRequest").addEventListener("click", function() {
        const model = "generalv3.5"; // 指定模型版本
        const messages = [
            {
                "role": "user",
                "content": "你好，讯飞星火"
            }
        ];
        const data = {
            model: model,
            messages: messages,
            temperature: 0.5, // 可选参数
            top_k: 4, // 可选参数
            max_tokens: 1024 // 可选参数
        };

        const headers = {
            "Content-Type": "application/json",
            "Authorization": "RxJXNTyUFVJujjIsZuak:gDvSMdWKnHnxsaJUOSWm" // 替换为您的APIPassword
        };

        fetch('https://spark-api-open.xf-yun.com/v1/chat/completions', {
            method: 'POST',
            headers: headers,
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(data => {
            console.log('Success:', data);
            document.getElementById("response").textContent = JSON.stringify(data, null, 2);
        })
        .catch((error) => {
            console.error('Error:', error);
            document.getElementById("response").textContent = "Error: " + error;
        });
    });
});
</script>
</head>
<body>
<button id="sendRequest">发送请求</button>
<pre id="response"></pre>
</body>
</html>